<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <title>WebPivotTable Component</title>

  <style type="text/css">
    html, body, #content {width:100%;height:100%; padding:0; margin:0;}
  </style>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/16.0.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.0.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>

  <script type="text/javascript" src="./dist/wpt.js"></script>
</head>
<body>
<div id="content"></div>
<script type="text/babel">

  class Home extends React.Component {
    state = {
      locale: "",
    };

    changeLocale = (event) => {
      this.setState({locale: event.target.value});
      if (this.wpt){
        this.wpt.setLocale(event.target.value);
      }
    };

    render() {

      return (
        <div>
          <div style={{padding:10}}>
            <h3 style={{textAlign: "center", margin:0}}>
              Test wpt component inside a react application
            </h3>
            <div>
              Switch Locale:
              <select onChange={this.changeLocale} value={this.state.locale}>
                <option value="en">English</option>
                <option value="zh-CN">Chinese</option>
                <option value="de">German</option>
                <option value="it">Italian</option>
                <option value="pt">Portuguese</option>
                <option value="es">Spain</option>
                <option value="tr-TR">Turkey</option>
              </select>
            </div>
          </div>

          <div style={{width: "98%", height: 500, margin: "auto"}}>
            <web-pivot-table
                    ref={ (target) => {this.wpt = target } }
                    options='{"locale":"zh-CN"}'
            />
          </div>
        </div>
      );
    }
  };

  ReactDOM.render(
          <Home />,
    document.getElementById('content')
  );

</script>
</body>
</html>
